    .text

############################################################
# Initial setup
############################################################
    addi x1, x0, 10          # x1 = 10
    addi x2, x0, 20          # x2 = 20
    addi x3, x0, 5           # x3 = 5

############################################################
# Basic ALU ops
############################################################
    add  x10, x1, x2         # a0 = 30
    add  x10, x10, x3        # a0 = 35
    sub  x10, x10, x3        # a0 = 30
    or   x10, x1, x3         # a0 = 15
    and  x10, x1, x2         # a0 = 0
    xor  x10, x1, x2         # a0 = 30

############################################################
# Shift tests
############################################################
    sll  x10, x1, x3         # a0 = 320
    srl  x10, x2, x3         # a0 = 0
    sra  x10, x2, x3         # a0 = 0

############################################################
# SLT tests
############################################################
    slt  x10, x1, x2         # a0 = 1
    slt  x10, x2, x1         # a0 = 0
    sltu x10, x1, x2         # a0 = 1
    sltu x10, x2, x1         # a0 = 0

############################################################
# Memory tests
############################################################
    addi x4, x0, 100         # base = 100
    sw   x1, 0(x4)           # store 10
    lw   x10, 0(x4)          # load â†’ 10

############################################################
# Branch test (BEQ)
############################################################
    addi x5, x0, 0
    beq  x5, x0, branch_ok
    addi x10, x0, 255        # should NOT run

branch_ok:
    addi x10, x10, 1         # a0 += 1

############################################################
# JAL test
############################################################
    jal  x0, jal_target
    addi x10, x0, 200        # should NOT run

jal_target:
    addi x10, x10, 2         # a0 += 2

############################################################
# JALR test (jump to PC=256)
############################################################
    addi x30, x0, 256        # compute JALR target
    jalr x0, 0(x30)          # jump to PC = 256

    addi x10, x0, 200        # SHOULD NOT RUN

############################################################
# Place target at PC=256
############################################################
    .org 256

target_jalr:
    addi x10, x10, 3         # a0 += 3

############################################################
# End program
############################################################
end:
    jal x0, end              # infinite loop
